function loading(i) {
    function r() {
        if ($.isArray(a)) {
            var l = 100 - Math.ceil(t / a.length * 100);
            $("#per").text(l);
            if (a.length <= t)
                return a = null,
                void i.play.call(n, i);
            var e = new Image;
            return e.src = a[t],
            e.complete
                ? (t++, void r())
                : void(e.onload = e.onerror = function() {
                    t++,
                    r()
                })
        }
    }
    var t = 0,
        a = [],
        l = {
            play: $.noop,
            path: ""
        };
    i = $.extend({}, l, i);
    var n = $(".loading-bar");
    if ($.isArray(i.list))
        for (var e in i.list)
            a.push(i.path + i.list[e]);
else
        i.list && a.push(i.path + i.list);
    r()
}
